# PostgreSQL ржбрж╛ржЯрж╛ржмрзЗрж╕ ржкрзНрж░рж╢рзНржирзЛрждрзНрждрж░ (ржмрж╛ржВрж▓рж╛ржпрж╝)

---

## рзз. PostgreSQL ржХрзА?

**PostgreSQL** рж╣рж▓рзЛ ржПржХржЯрж┐ ржУржкрзЗржи рж╕рзЛрж░рзНрж╕, рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржУ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ **Relational Database Management System (RDBMS)**ред ржПржЯрж┐ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг, ржкрж░рж┐ржЪрж╛рж▓ржирж╛, ржПржмржВ ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред ржПржЯрж┐ SQL (Structured Query Language) ржПржмржВ JSON, XML-ржПрж░ ржорждрзЛ ржЖржзрзБржирж┐ржХ ржбрзЗржЯрж╛ ржЯрж╛ржЗржк рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗред PostgreSQL ACID-compliant, ржЕрж░рзНржерж╛рзО ржПржЯрж┐ ржирж┐рж░рж╛ржкржж ржПржмржВ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп ржбрзЗржЯрж╛ржмрзЗржЗржЬ рж╕рж┐рж╕рзНржЯрзЗржоред


---

## рзи. ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕рзНржХрж┐ржорж╛ ржХрж┐ ржПржмржВ ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп ржХрж┐?

ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕рзНржХрж┐ржорж╛ рж╣рж▓ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ рж▓ржЬрж┐ржХрзНржпрж╛рж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржпрж╛ ржбрж╛ржЯрж╛ ржХрж┐ржнрж╛ржмрзЗ рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣ржмрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗред ржПржЯрж┐ ржПржХржЯрж┐ ржмрзНрж▓рзБржкрзНрж░рж┐ржирзНржЯрзЗрж░ ржоржд ржпрж╛ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржЯрзЗржмрж┐рж▓, ржХрж▓рж╛ржо, ржбрж╛ржЯрж╛ ржЯрж╛ржЗржк, ржПржмржВ рж╕ржорзНржкрж░рзНржХржЧрзБрж▓рж┐ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рзЗред

рж╕рзНржХрж┐ржорж╛рж░ ржкрзНрж░ржзрж╛ржи ржЙржжрзНржжрзЗрж╢рзНржпржЧрзБрж▓рж┐:
- ржбрж╛ржЯрж╛ ржЕрж░рзНржЧрж╛ржирж╛ржЗржЬрзЗрж╢ржи: ржбрж╛ржЯрж╛ ржХрж┐ржнрж╛ржмрзЗ рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣ржмрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ
- ржбрж╛ржЯрж╛ ржЗржирзНржЯрж┐ржЧрзНрж░рж┐ржЯрж┐: ржбрж╛ржЯрж╛рж░ рж╕ржарж┐ржХрждрж╛ ржПржмржВ рж╕рж╛ржоржЮрзНржЬрж╕рзНржп ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ
- ржбрж╛ржЯрж╛ рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐: ржбрж╛ржЯрж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХржирзНржЯрзНрж░рзЛрж▓ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ
- ржбрж╛ржЯрж╛ рж░рж┐рж▓рзЗрж╢ржирж╢рж┐ржк: ржЯрзЗржмрж┐рж▓ржЧрзБрж▓рж┐рж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рзЗ

ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк:  
ржЙржжрж╛рж╣рж░ржг: ржЖржорж╛ржжрзЗрж░ ржУржпрж╝рж╛ржЗрж▓рзНржбрж▓рж╛ржЗржл ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ, рж╕рзНржХрж┐ржорж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ:
```
CREATE TABLE species (
    species_id SERIAL PRIMARY KEY,
    common_name VARCHAR(100) NOT NULL,
    scientific_name VARCHAR(100) NOT NULL
);
```

---

### рзй. Primary Key ржУ Foreign Key ржХрж╛ржХрзЗ ржмрж▓рзЗ?

#### Primary Key:
Primary Key рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо (ржмрж╛ ржХрж▓рж╛ржоржЧрзБрж▓рзЛрж░ рж╕ржорж╖рзНржЯрж┐) ржпрж╛ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ рж╢ржирж╛ржХрзНржд ржХрж░рзЗред ржПржЯрж┐ ржХржЦржирзЛржЗ NULL рж╣рждрзЗ ржкрж╛рж░рзЗ ржирж╛ ржПржмржВ ржПржХржЗ ржорж╛ржи ржПржХрж╛ржзрж┐ржХ рж░рзЗржХрж░рзНржбрзЗ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ ржирж╛ред

ЁЯУМ **ржЙржжрж╛рж╣рж░ржг:**
```sql
ranger_id SERIAL PRIMARY KEY
```

#### Foreign Key:
Foreign Key рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо ржпрж╛ ржЕржирзНржп ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key ржПрж░ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ (reference) ржХрж░рзЗред ржПржЯрж┐ ржЯрзЗржмрж┐рж▓ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред
```sql
ranger_id INT REFERENCES rangers(ranger_id)
```

ржПржЦрж╛ржирзЗ sightings ржЯрзЗржмрж┐рж▓рзЗрж░ ranger_id ржХрж▓рж╛ржоржЯрж┐ rangers ржЯрзЗржмрж┐рж▓рзЗрж░ ranger_id ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХржпрзБржХрзНрждред


## рзк.JOIN ржХрзА ржПржмржВ ржПржЯрж┐ ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?

**JOIN** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХрж╛ржзрж┐ржХ ржЯрзЗржмрж┐рж▓ ржерзЗржХрзЗ рж╕ржорзНржкрж░рзНржХржпрзБржХрзНржд ржбрзЗржЯрж╛ ржПржХрждрзНрж░рзЗ ржЖржирж╛ ржпрж╛ржпрж╝ред  
ржПржЯрж┐ ржбрзЗржЯрж╛ржмрзЗржЬрзЗ ржЯрзЗржмрж┐рж▓ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ ржжрзЗржЦрж╛рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

### JOIN-ржПрж░ ржзрж░ржи:

- **INNER JOIN**: ржжрзБржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржорж┐рж▓ ржерж╛ржХрж╛ рж░рзЗржХрж░рзНржбржЧрзБрж▓рзЛ ржЖржирзЗред
- **LEFT JOIN**: ржмрж╛ржо ржкрж╛рж╢рзЗрж░ рж╕ржм ржбрзЗржЯрж╛ ржЖржирзЗ, ржбрж╛ржи ржкрж╛рж╢рзЗ ржорж┐рж▓ ржерж╛ржХрж▓рзЗ рж╕рзЗржЯрж╛ржУ ржЖржирзЗред
- **RIGHT JOIN**: ржбрж╛ржи ржкрж╛рж╢рзЗрж░ рж╕ржм ржбрзЗржЯрж╛ ржЖржирзЗ, ржмрж╛ржо ржкрж╛рж╢рзЗ ржорж┐рж▓ ржерж╛ржХрж▓рзЗ рж╕рзЗржЯрж╛ржУ ржЖржирзЗред
- **FULL JOIN**: ржЙржнржпрж╝ ржкрж╛рж╢рзЗрж░ рж╕ржм ржбрзЗржЯрж╛ ржЖржирзЗред

**ржЙржжрж╛рж╣рж░ржг:**

```sql
SELECT r.name, s.location
FROM rangers r
JOIN sightings s ON r.ranger_id = s.ranger_id;
```

---

## рзл.GROUP BY ржХрзЗржи ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝?

`GROUP BY` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ ржХрж▓рж╛ржорзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржбрзЗржЯрж╛ **ржЧрзНрж░рзБржк** ржХрж░рж╛ ржпрж╛ржпрж╝, ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ ржЧрзНрж░рзБржкрзЗрж░ ржЙржкрж░ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ ржлрж╛ржВрж╢ржи (ржпрзЗржоржи: `COUNT()`, `SUM()`, `AVG()`) ржкрзНрж░рзЯрзЛржЧ ржХрж░рж╛ ржпрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**

```sql
SELECT ranger_id, COUNT(*) AS total_sightings
FROM sightings
GROUP BY ranger_id;
```

ржПржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржЮрзНржЬрж╛рж░рзЗрж░ ржХрждржЧрзБрж▓рзЛ **sighting** ржЖржЫрзЗ рждрж╛ ржЧржгржирж╛ ржХрж░рж╛ рж╣ржпрж╝ред

---
