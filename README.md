# PostgreSQL ржбрж╛ржЯрж╛ржмрзЗрж╕ ржкрзНрж░рж╢рзНржирзЛрждрзНрждрж░ (ржмрж╛ржВрж▓рж╛ржпрж╝)

---

## рзз. PostgreSQL ржХрзА?

**PostgreSQL** рж╣рж▓рзЛ ржПржХржЯрж┐ ржУржкрзЗржи рж╕рзЛрж░рзНрж╕, рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржУ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ **Relational Database Management System (RDBMS)**ред ржПржЯрж┐ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг, ржкрж░рж┐ржЪрж╛рж▓ржирж╛, ржПржмржВ ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред ржПржЯрж┐ SQL (Structured Query Language) ржПржмржВ JSON, XML-ржПрж░ ржорждрзЛ ржЖржзрзБржирж┐ржХ ржбрзЗржЯрж╛ ржЯрж╛ржЗржк рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗред PostgreSQL ACID-compliant, ржЕрж░рзНржерж╛рзО ржПржЯрж┐ ржирж┐рж░рж╛ржкржж ржПржмржВ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп ржбрзЗржЯрж╛ржмрзЗржЗржЬ рж╕рж┐рж╕рзНржЯрзЗржоред

ржПржЯрж┐ Facebook, Instagram, GitLab-ржПрж░ ржорждрзЛ ржмржбрж╝ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржиржЧрзБрж▓рзЛрждрзЗржУ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред

---

## рзи. Schema ржПрж░ ржХрж╛ржЬ ржХрзА?

**Schema** рж╣рж▓рзЛ ржПржХржЯрж┐ ржбрзЗржЯрж╛ржмрзЗржЗржЬрзЗрж░ ржоржзрзНржпрзЗ рж▓ржЬрж┐ржХрзНржпрж╛рж▓ ржХрж╛ржарж╛ржорзЛ ржмрж╛ ржлрзЛрж▓рзНржбрж╛рж░, ржпрж╛ ржПржХрж╛ржзрж┐ржХ ржЯрзЗржмрж┐рж▓, ржнрж┐ржЙ, ржлрж╛ржВрж╢ржи ржЗрждрзНржпрж╛ржжрж┐ ржПржХрждрзНрж░рзЗ рж╕ржВржЧржарж┐ржд ржХрж░рзЗред ржПржЯрж┐ ржбрзЗржЯрж╛ ржЧрзБржЫрж┐ржпрж╝рзЗ рж░рж╛ржЦрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ ржПржмржВ ржЯрзЗржмрж┐рж▓ ржмрж╛ ржЕржмржЬрзЗржХрзНржЯржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ ржирж╛ржорзЗрж░ рж╕ржВржШрж░рзНрж╖ (naming conflict) ржПржбрж╝рж╛ржпрж╝ред

ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк:  
рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ `admin.users` ржПржмржВ `client.users` ржирж╛ржорзЗ ржжрзБржЯрж┐ ржЖрж▓рж╛ржжрж╛ ржЯрзЗржмрж┐рж▓ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЛ, ржХрж╛рж░ржг рждрж╛рж░рж╛ ржЖрж▓рж╛ржжрж╛ рж╕рзНржХрж┐ржорж╛ржпрж╝ рж░ржпрж╝рзЗржЫрзЗред

---

## рзй.Primary Key ржУ Foreign Key ржХрж╛ржХрзЗ ржмрж▓рзЗ?

### Primary Key:
- ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рзЗред
- NULL ржУ duplicate ржорж╛ржи рж░рж╛ржЦрж╛ ржпрж╛ржпрж╝ ржирж╛ред
- ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗ ржПржХржЯрж┐ржЗ Primary Key ржерж╛ржХрзЗред

ржЙржжрж╛рж╣рж░ржг:
```sql
ranger_id INT PRIMARY KEY



## Foreign Key

**Foreign Key** рж╣рж▓рзЛ ржЕржирзНржп ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ **Primary Key** ржПрж░ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ред  
ржПржЯрж┐ ржЯрзЗржмрж┐рж▓ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ (**relation**) рждрзИрж░рж┐ ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**

```sql
ranger_id INT REFERENCES rangers(ranger_id)
```

---

## рзк.JOIN ржХрзА ржПржмржВ ржПржЯрж┐ ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?

**JOIN** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХрж╛ржзрж┐ржХ ржЯрзЗржмрж┐рж▓ ржерзЗржХрзЗ рж╕ржорзНржкрж░рзНржХржпрзБржХрзНржд ржбрзЗржЯрж╛ ржПржХрждрзНрж░рзЗ ржЖржирж╛ ржпрж╛ржпрж╝ред  
ржПржЯрж┐ ржбрзЗржЯрж╛ржмрзЗржЬрзЗ ржЯрзЗржмрж┐рж▓ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ ржжрзЗржЦрж╛рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

### ЁЯФ╕ JOIN-ржПрж░ ржзрж░ржи:

- **INNER JOIN**: ржжрзБржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржорж┐рж▓ ржерж╛ржХрж╛ рж░рзЗржХрж░рзНржбржЧрзБрж▓рзЛ ржЖржирзЗред
- **LEFT JOIN**: ржмрж╛ржо ржкрж╛рж╢рзЗрж░ рж╕ржм ржбрзЗржЯрж╛ ржЖржирзЗ, ржбрж╛ржи ржкрж╛рж╢рзЗ ржорж┐рж▓ ржерж╛ржХрж▓рзЗ рж╕рзЗржЯрж╛ржУ ржЖржирзЗред
- **RIGHT JOIN**: ржбрж╛ржи ржкрж╛рж╢рзЗрж░ рж╕ржм ржбрзЗржЯрж╛ ржЖржирзЗ, ржмрж╛ржо ржкрж╛рж╢рзЗ ржорж┐рж▓ ржерж╛ржХрж▓рзЗ рж╕рзЗржЯрж╛ржУ ржЖржирзЗред
- **FULL JOIN**: ржЙржнржпрж╝ ржкрж╛рж╢рзЗрж░ рж╕ржм ржбрзЗржЯрж╛ ржЖржирзЗред

ЁЯУМ **ржЙржжрж╛рж╣рж░ржг:**

```sql
SELECT r.name, s.location
FROM rangers r
JOIN sightings s ON r.ranger_id = s.ranger_id;
```

---

## рзл.GROUP BY ржХрзЗржи ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝?

`GROUP BY` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ ржХрж▓рж╛ржорзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржбрзЗржЯрж╛ **ржЧрзНрж░рзБржк** ржХрж░рж╛ ржпрж╛ржпрж╝, ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ ржЧрзНрж░рзБржкрзЗрж░ ржЙржкрж░ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ ржлрж╛ржВрж╢ржи (ржпрзЗржоржи: `COUNT()`, `SUM()`, `AVG()`) ржкрзНрж░рзЯрзЛржЧ ржХрж░рж╛ ржпрж╛ржпрж╝ред

ЁЯУМ **ржЙржжрж╛рж╣рж░ржг:**

```sql
SELECT ranger_id, COUNT(*) AS total_sightings
FROM sightings
GROUP BY ranger_id;
```

ржПржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржЮрзНржЬрж╛рж░рзЗрж░ ржХрждржЧрзБрж▓рзЛ **sighting** ржЖржЫрзЗ рждрж╛ ржЧржгржирж╛ ржХрж░рж╛ рж╣ржпрж╝ред

---
